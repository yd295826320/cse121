Since this part is pretty similar to the 3.2, so there are a lot of issues for this part. 
Just put the lab2.2 stuff into the loop.

